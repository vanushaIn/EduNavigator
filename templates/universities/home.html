{% extends 'base.html' %}

{% block title %}Главная - UniGuide{% endblock %}

{% block content %}
<!-- Hero -->
<section class="container py-5">
    <div class="hero-section position-relative overflow-hidden">
        <span class="md3-hero-glow" style="top:-40px; left:-40px;"></span>
        <span class="md3-hero-glow" style="bottom:-120px; right:-20px;"></span>
        <div class="row align-items-center position-relative">
            <div class="col-lg-7">
                
                <h1 class="hero-title">Найдите университет, который подходит именно вам</h1>
                <p class="hero-subtitle mb-4">
                    Обновленный интерфейс с принципами Material Design 3, динамическими карточками, рейтингами и персональными рекомендациями по всей России.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="{% url 'universities:university_list' %}" class="btn btn-primary shadow-sm">
                        <span class="material-symbols-rounded me-2">travel_explore</span>Начать поиск
                    </a>
                    <a href="{% url 'universities:rating_leaderboard' %}" class="btn btn-outline-light text-white border-white">
                        <span class="material-symbols-rounded me-2">workspace_premium</span>Лидеры рейтинга
                    </a>
                </div>
            </div>
            <div class="col-lg-5 mt-5 mt-lg-0">
                <div class="md3-surface">
                    <p class="text-uppercase text-muted fw-semibold mb-1" style="letter-spacing:0.1em;">Пульс образования</p>
                    <h3 class="fw-bold">Актуальные показатели</h3>
                    <div class="row mt-4 g-3">
                        <div class="col-6">
                            <div class="stats-card h-100 text-start">
                                <small class="text-muted">Университетов</small>
                                <div class="stats-number">{{ total_universities }}</div>
                                <p class="mb-0 text-muted">в каталоге</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card h-100 text-start">
                                <small class="text-muted">Регионов</small>
                                <div class="stats-number">{{ total_regions }}</div>
                                <p class="mb-0 text-muted">охвачено</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card h-100 text-start">
                                <small class="text-muted">Отзывы</small>
                                <div class="stats-number">{{ total_ratings }}</div>
                                <p class="mb-0 text-muted">от студентов</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stats-card h-100 text-start">
                                <small class="text-muted">Направления</small>
                                <div class="stats-number">16</div>
                                <p class="mb-0 text-muted">типов вузов</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Search -->


<!-- Top Universities -->


<!-- News -->
<section class="container py-5">
    <div class="text-center mb-4">
        <span class="md3-chip"><span class="material-symbols-rounded">globe</span>Новости</span>
        <h2 class="md3-section-title mt-3">Что происходит в вузах</h2>
    </div>
    <div class="row g-4">
        {% for news in latest_news %}
        <div class="col-lg-6">
            <div class="md3-card news-card h-100">
                <div class="card-body md3-news-card">
                    {% if news.image %}
                        <img src="{{ news.image.url }}" alt="{{ news.title }}" style="width:80px; height:80px; object-fit:cover; border-radius:20px;">
                    {% endif %}
                    <div>
                        <div class="d-flex align-items-center gap-2 mb-2">
                            <span class="md3-chip">
                                <span class="material-symbols-rounded">school</span>{{ news.university.short_name }}
                            </span>
                            <small class="text-muted">
                                <span class="material-symbols-rounded" style="font-size:1rem;">calendar_month</span>
                                {{ news.created_at|date:"d.m.Y" }}
                            </small>
                        </div>
                        <h5 class="card-title mb-2">
                            <a href="{% url 'universities:news_detail' news.id %}" class="text-decoration-none text-reset">
                                {{ news.title }}
                            </a>
                        </h5>
                        <p class="card-text text-muted">{{ news.content|truncatewords:18 }}</p>
                    </div>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p class="text-muted">Пока нет новостей</p>
        </div>
        {% endfor %}
    </div>
    <div class="text-center mt-4">
        <a href="{% url 'universities:news_list' %}" class="btn btn-outline-primary">
            <span class="material-symbols-rounded me-2">feed</span>Все новости
        </a>
    </div>
</section>

<!-- Features -->

{% endblock %}
